{"version":3,"file":"static/webpack/static/development/pages/item.js.090d0a1faada6ec57455.hot-update.js","sources":["webpack:///./components/Authentication.js","webpack:///./components/IsAuthenticated.js","webpack:///./components/Reviews.js","webpack:///./components/Signin.js","webpack:///./components/Signup.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Signup from './Signup';\nimport Signin from './Signin';\n\nclass Authentication extends Component {\n\tstate = {\n\t\thasAccount: true\n\t};\n\n\ttoggleHaveAccount = () => {\n\t\tthis.setState(prevState => ({\n\t\t\thasAccount: !prevState.hasAccount\n\t\t}));\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{this.state.hasAccount ? (\n\t\t\t\t\t<Signin toggleHaveAccount={this.toggleHaveAccount} />\n\t\t\t\t) : (\n\t\t\t\t\t<Signup toggleHaveAccount={this.toggleHaveAccount} />\n\t\t\t\t)}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default Authentication;\n","import { Query } from 'react-apollo';\nimport Router from 'next/router';\nimport { CURRENT_USER_QUERY } from './User';\nimport Authentication from './Authentication';\n\nconst IsAuthenticated = props => (\n\t<Query query={CURRENT_USER_QUERY}>\n\t\t{({ data, loading }) => {\n\t\t\tif (loading) return <p>Loading...</p>;\n\t\t\tif (!data.currentUser) {\n\t\t\t\treturn <Authentication />;\n\t\t\t}\n\t\t\treturn props.children;\n\t\t}}\n\t</Query>\n);\n\nexport default IsAuthenticated;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport ReviewForm from './ReviewForm';\nimport Review from './Review';\nimport IsAuthenticated from './IsAuthenticated';\n\nconst ReviewList = styled.div`\n\twidth: 80%;\n\tmax-width: 1300px;\n\t/* border: 1px solid ${props => props.theme.border}; */\n\tmargin: 0 auto;\n`;\n\nexport const StyledButton = styled.button`\n\tpadding: 1rem 2rem;\n\tbackground: ${props => props.theme.primaryColor};\n\tcolor: #fff;\n\tborder: 1px solid ${props => props.theme.border};\n\tfont-size: 2rem;\n\tmargin: 1rem auto;\n\twidth: 100%;\n\tcursor: pointer;\n`;\n\nconst ALL_REVIEWS_QUERY = gql`\n\tquery ALL_REVIEWS_QUERY($item: String!) {\n\t\treviews(where: { item: $item }) {\n\t\t\tid\n\t\t\ttitle\n\t\t\tmessage\n\t\t\trating\n\t\t\tuser {\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n`;\n\nclass Reviews extends Component {\n\tstate = {\n\t\tshowReviewForm: false\n\t};\n\n\ttoggleReviewForm = () => {\n\t\tthis.setState(prevState => ({\n\t\t\tshowReviewForm: !prevState.showReviewForm\n\t\t}));\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Query query={ALL_REVIEWS_QUERY} variables={{ item: this.props.item }}>\n\t\t\t\t{({ loading, error, data }) => {\n\t\t\t\t\tif (error) return <p>Error</p>;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ReviewList>\n\t\t\t\t\t\t\t<StyledButton onClick={this.toggleReviewForm}>\n\t\t\t\t\t\t\t\t{this.state.showReviewForm ? 'Cancel' : 'New Review'}\n\t\t\t\t\t\t\t</StyledButton>\n\n\t\t\t\t\t\t\t{this.state.showReviewForm ? (\n\t\t\t\t\t\t\t\t<ReviewForm\n\t\t\t\t\t\t\t\t\ttoggleReviewForm={this.toggleReviewForm}\n\t\t\t\t\t\t\t\t\titem={this.props.item}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{data.reviews.map(review => (\n\t\t\t\t\t\t\t\t<Review review={review} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ReviewList>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</Query>\n\t\t);\n\t}\n}\n\nexport default Reviews;\n","import React, { Component } from 'react';\nimport Link from 'next/link';\nimport styled from 'styled-components';\nimport Router from 'next/router';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport Form from './styles/Form';\nimport { Title } from './Item';\nimport { Footnote } from './Signup';\nimport { CURRENT_USER_QUERY } from './User';\n\nconst StyledSmallLink = styled.a`\n\ttext-decoration: none;\n\tcolor: ${props => props.theme.black};\n\tcursor: pointer;\n\tmargin: 0;\n\tfont-size: 1.2rem;\n`;\n\nconst SIGNIN_MUTATION = gql`\n\tmutation SIGNIN_MUTATION($email: String!, $password: String!) {\n\t\tsignin(email: $email, password: $password) {\n\t\t\tid\n\t\t\temail\n\t\t\tname\n\t\t}\n\t}\n`;\n\nclass Signin extends Component {\n\tstate = {\n\t\temail: '',\n\t\tpassword: ''\n\t};\n\n\tonChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Mutation\n\t\t\t\tmutation={SIGNIN_MUTATION}\n\t\t\t\tvariables={this.state}\n\t\t\t\trefetchQueries={[{ query: CURRENT_USER_QUERY }]}\n\t\t\t>\n\t\t\t\t{(signin, { loading, error }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Title>Sign in my friend 🙌🏼</Title>\n\t\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\t\tmethod=\"POST\"\n\t\t\t\t\t\t\t\tonSubmit={async e => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tconst res = await signin();\n\t\t\t\t\t\t\t\t\tRouter.push({\n\t\t\t\t\t\t\t\t\t\tpathname: '/'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<fieldset>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"email\">\n\t\t\t\t\t\t\t\t\t\tEmail\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"password\">\n\t\t\t\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<button disabled={loading}>Sign In</button>\n\t\t\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t\t\t<Link href=\"/\">\n\t\t\t\t\t\t\t\t\t<StyledSmallLink>Forgot password? 😮</StyledSmallLink>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t<Footnote>\n\t\t\t\t\t\t\t\t<button onClick={this.props.toggleHaveAccount}>\n\t\t\t\t\t\t\t\t\tNo part of the community? 👉🏼{' '}\n\t\t\t\t\t\t\t\t\t<span className=\"bold\">Sign Up</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Footnote>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</Mutation>\n\t\t);\n\t}\n}\n\nexport default Signin;\n","import React, { Component } from 'react';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport styled from 'styled-components';\nimport Form from './styles/Form';\nimport { Title } from './Item';\n\nconst SIGNUP_MUTATION = gql`\n\tmutation SIGNUP_MUTATION($email: String, $name: String, $password: String) {\n\t\tsignup(email: $email, name: $name, password: $password) {\n\t\t\tid\n\t\t\temail\n\t\t\tname\n\t\t}\n\t}\n`;\n\nexport const Footnote = styled.div`\n\tdisplay: flex;\n\tbutton {\n\t\tfont-size: 1.5rem;\n\t\tborder: none;\n\t\tbackground: white;\n\t\tcursor: pointer;\n\t\tmargin: 0 auto;\n\n\t\t.bold {\n\t\t\tfont-weight: 900;\n\t\t}\n\t}\n`;\n\nclass Signup extends Component {\n\tstate = {\n\t\temail: '',\n\t\tname: '',\n\t\tpassword: '',\n\t\tconfirmPassword: ''\n\t};\n\n\tonChange = e => {\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t};\n\n\tcomparePasswords = () => {\n\t\tif (this.state.password === this.state.confirmPassword) {\n\t\t\tconsole.log('yyy');\n\t\t}\n\t};\n\trender() {\n\t\treturn (\n\t\t\t<Mutation mutation={SIGNUP_MUTATION} variables={this.state}>\n\t\t\t\t{(signup, { loading, error }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Title>Join the Community 🤝</Title>\n\t\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\t\tmethod=\"POST\"\n\t\t\t\t\t\t\t\tonSubmit={async e => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tthis.comparePasswords();\n\t\t\t\t\t\t\t\t\tconst res = await signup();\n\t\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<fieldset>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"email\">\n\t\t\t\t\t\t\t\t\t\tEmail\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"name\">\n\t\t\t\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"password\">\n\t\t\t\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"confirmPassword\">\n\t\t\t\t\t\t\t\t\t\tPassword Confirm\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"confirmPassword\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Confirm Password\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.confirmPassword}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<button>Sign Up</button>\n\t\t\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t<Footnote>\n\t\t\t\t\t\t\t\t<button onClick={this.props.toggleHaveAccount}>\n\t\t\t\t\t\t\t\t\tAlready on board? 👉🏼 <span className=\"bold\">Sign In</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Footnote>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</Mutation>\n\t\t);\n\t}\n}\n\nexport default Signup;\n"],"mappings":"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","sourceRoot":""}
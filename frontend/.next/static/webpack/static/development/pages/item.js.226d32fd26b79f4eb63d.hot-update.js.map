{"version":3,"file":"static/webpack/static/development/pages/item.js.226d32fd26b79f4eb63d.hot-update.js","sources":["webpack:///./components/Reviews.js"],"sourcesContent":["import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport ReviewForm from './ReviewForm';\nimport Review from './Review';\n\nconst ReviewList = styled.div`\n\twidth: 80%;\n\tmax-width: 1300px;\n\t/* border: 1px solid ${props => props.theme.border}; */\n\tmargin: 0 auto;\n`;\n\nexport const StyledButton = styled.button`\n\tpadding: 1rem 2rem;\n\tbackground: ${props => props.theme.primaryColor};\n\tcolor: #fff;\n\tborder: 1px solid ${props => props.theme.border};\n\tfont-size: 2rem;\n\tmargin: 1rem auto;\n\twidth: 100%;\n\tcursor: pointer;\n`;\n\nconst ALL_REVIEWS_QUERY = gql`\n\tquery ALL_REVIEWS_QUERY($item: String!) {\n\t\treviews(where: { item: $item }) {\n\t\t\tid\n\t\t\ttitle\n\t\t\tmessage\n\t\t\trating\n\t\t\tuser {\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n`;\n\nclass Reviews extends Component {\n\tstate = {\n\t\tshowReviewForm: false\n\t};\n\n\ttoggleReviewForm = () => {\n\t\tthis.setState(prevState => ({\n\t\t\tshowReviewForm: !prevState.showReviewForm\n\t\t}));\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Query query={ALL_REVIEWS_QUERY} variables={{ item: this.props.item }}>\n\t\t\t\t{({ loading, error, data }) => {\n\t\t\t\t\tif (error) return <p>Error</p>;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ReviewList>\n\t\t\t\t\t\t\t<StyledButton onClick={this.toggleReviewForm}>\n\t\t\t\t\t\t\t\t{this.state.showReviewForm ? 'Cancel' : 'New Review'}\n\t\t\t\t\t\t\t</StyledButton>\n\t\t\t\t\t\t\t{this.state.showReviewForm ? (\n\t\t\t\t\t\t\t\t<ReviewForm\n\t\t\t\t\t\t\t\t\ttoggleReviewForm={this.toggleReviewForm}\n\t\t\t\t\t\t\t\t\titem={this.props.item}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{data.reviews.map(review => (\n\t\t\t\t\t\t\t\t<Review review={review} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ReviewList>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</Query>\n\t\t);\n\t}\n}\n\nexport default Reviews;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAIA;AAEA;AAAA;AAEA;AAAA;AAOA;AACA;AAaA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;AAGA;AACA;AAAA;AACA;AADA;AAAA;AAGA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAKA;AAGA;;;;AAnCA;AACA;AAqCA;;;;A","sourceRoot":""}